(this["webpackJsonpsudoku-solver"]=this["webpackJsonpsudoku-solver"]||[]).push([[0],{29:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),i=n.n(a),o=n(19),l=n.n(o),s=n(5),u=n(2),c=(n(29),n(3)),h=n(4),v=n(6),d=n(15),f=n(7),b=n(8),g=function(){function e(t){Object(h.a)(this,e),this._cells=[],t&&(this._cells=t)}return Object(v.a)(e,[{key:"push",value:function(e){this._cells.push(e)}},{key:"values",get:function(){return this._cells.map((function(e){return e.value}))}},{key:"cells",get:function(){return this._cells}}]),e}(),j=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return n}(g),p=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return n}(g),m=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return n}(g),O=function(){function e(t,n,r,a,i,o,l){Object(h.a)(this,e),this._x=void 0,this._y=void 0,this._value=void 0,this._row=void 0,this._column=void 0,this._subgrid=void 0,this._isSolved=!1,this._isMutable=!0,this._showError=!1,r>0&&(this._isSolved=!0,this._isMutable=!1),this._x=t,this._y=n,this._value=r,this._row=new j(i.get(t)),this._column=new p(a.get(n)),this._subgrid=new m(o.get(l))}return Object(v.a)(e,[{key:"unSolve",value:function(){this._value=0,this._isSolved=!1}},{key:"setMutable",value:function(e){this._isMutable=e}},{key:"canSolve",value:function(e){return!new Set([].concat(Object(d.a)(this._row.values),Object(d.a)(this._column.values),Object(d.a)(this._subgrid.values))).has(e)}},{key:"solve",value:function(e){this._value=e,this._isSolved=!0}},{key:"showError",get:function(){return this._showError},set:function(e){this._showError=e}},{key:"isSolved",get:function(){return this._isSolved}},{key:"isMutable",get:function(){return this._isMutable}},{key:"row",get:function(){return this._row}},{key:"column",get:function(){return this._column}},{key:"subgrid",get:function(){return this._subgrid}},{key:"value",get:function(){return this._value},set:function(e){this._value=e}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}]),e}(),_=n(23),w=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e,r){var a;return Object(h.a)(this,n),(a=t.call(this,e))._invalidCellCoordinates=void 0,a._invalidCellCoordinates=r,a}return Object(v.a)(n,[{key:"invalidCellCoordinates",get:function(){return this._invalidCellCoordinates}}]),n}(Object(_.a)(Error)),x=function(){function e(){return Object(h.a)(this,e),this._board=void 0,this._cells=[],this._maxRowSize=9,this._maxBoardSize=this._maxRowSize*this._maxRowSize,this}return Object(v.a)(e,[{key:"getCell",value:function(e,t){return this._board[e][t]}},{key:"isValid",value:function(){for(var e=[],t=!1,n=0;n<this._board.length;n+=1)for(var r=0;r<this._board[n].length;r+=1)for(var a=this._board[n][r],i=[a.row.cells,a.column.cells,a.subgrid.cells],o=0;o<i.length;o+=1)for(var l=i[o],s={},u=0;u<l.length;u+=1){var c=l[u],h=c.value;if(0===h||s[h]){if(0!==h){var v=s[h];e.push([v.x,v.y]),v.value=0,delete s[h],t=!0}}else s[h]=c}return!t||e}},{key:"print",value:function(){for(var e=0;e<this._board.length;e+=1){for(var t=[],n=0;n<this._board[e].length;n+=1)t.push(this.getCell(e,n).value);console.log(JSON.stringify(t))}}},{key:"convert",value:function(){var e=[];return this._board.forEach((function(t){var n=t.map((function(e){return e.value}));e.push(n)})),e}},{key:"setAllMutable",value:function(){this.cells.forEach((function(e){e.setMutable(!0)}))}},{key:"setAllImmutable",value:function(){this.cells.forEach((function(e){e.setMutable(!1)}))}},{key:"solve",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e,r=t;if(r===this._maxRowSize&&n===this._maxRowSize-1)return!0;r===this._maxRowSize&&(n+=1,r=0);var a=this.getCell(n,r);if(a.isSolved)return this.solve(n,r+1);for(var i=1;i<=9;i+=1){if(a.canSolve(i)&&(a.solve(i),this.solve(n,r+1)))return!0;a.unSolve()}return!1}},{key:"cells",get:function(){return this._cells}},{key:"board",get:function(){return this._board}}],[{key:"parse",value:function(t){var n,r,a=new e,i=[];a._board=i;for(var o=new Map,l=new Map,s=new Map,u=0;u<t.length;u+=1)o.set(u,[]),l.set(u,[]),s.set(u,[]);for(var c=null===(n=t[0])||void 0===n?void 0:n.length,h=0;h<t.length;h+=1){var v,d=null===(v=t[h])||void 0===v?void 0:v.length;if(!c||d!==c||d!==a._maxRowSize)throw new Error("All rows must be even and have a length of ".concat(a._maxRowSize,"."));c=d,i.push(o.get(h));for(var f=0;f<t[h].length;f+=1){var b=+t[h][f];if(b<0||b>9)throw new RangeError("Board must only contain numbers between 0 and 9.");var g=3*Math.floor(f/3)+Math.floor(h/3),j=new O(h,f,b,l,o,s,g);o.get(h).push(j),l.get(f).push(j),s.get(g).push(j),a._cells.push(j)}}var p=t.length*(null===(r=t[0])||void 0===r?void 0:r.length);if(p!==a._maxBoardSize)throw new RangeError("This application only supports 3x3 Sudoku boards with \n        ".concat(a._maxBoardSize," cells. Your board has ").concat(p||0," cells."));var m=a.isValid();if(!0!==m&&"object"===typeof m)throw new w("Board is invalid.",m);return a}}]),e}(),y=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],k=function(e){var t=e.className,n=e.children,a=e.handleClick;return Object(r.jsx)("button",{className:t,type:"button",onClick:function(e){return a(e)},children:n})};k.defaultProps={children:"",className:""};var S=k;function z(){var e=Object(u.a)(["\n  background: #a911ff;\n"]);return z=function(){return e},e}function C(){var e=Object(u.a)(["\n  color: white;\n  background: #683aea;\n  margin-left: auto;\n  transition: all 0.3s ease;\n  border: 1px solid transparent;\n\n  &:hover {\n    opacity: .8;\n  }\n"]);return C=function(){return e},e}var M=Object(c.a)(S)(C()),E={Button:M,ResetButton:Object(c.a)(M)(z())};function R(){var e=Object(u.a)(["\n  padding: .5em 1em;\n  border-radius: 3px;\n  border: none;\n  cursor: pointer;\n"]);return R=function(){return e},e}var B=Object(c.a)(S)(R()),N=function(e){var t=e.className,n=e.solvePuzzle,a=e.errorMessage,i=e.isSolved,o=e.resetPuzzle;return Object(r.jsxs)("div",{className:t,children:[Object(r.jsx)(L,{children:a}),i?Object(r.jsx)(E.ResetButton,{as:B,handleClick:o,children:"Reset"}):Object(r.jsx)(E.Button,{as:B,handleClick:n,children:"Solve"})]})};N.defaultProps={className:"",errorMessage:""};var P=N;function A(){var e=Object(u.a)(["\n  color: red;\n  font-size: 1.5rem;\n"]);return A=function(){return e},e}function I(){var e=Object(u.a)(["\n  max-width: 70vw;\n  max-height: 70vw;\n  width: 300px;\n  margin: 1em 0 1em 0;\n  display: flex;\n  justify-content: space-between;\n"]);return I=function(){return e},e}var J=Object(c.a)(P)(I()),L=c.a.p(A()),T=function(e){return e.map((function(e){return e.slice()}))},V=function(e){var t=e.className,n=e.cell,i=e.setPuzzle,o=Object(a.useState)(n.value),l=Object(s.a)(o,2),u=l[0],c=l[1],h=Object(a.useState)({}),v=Object(s.a)(h,2),d=v[0],f=v[1],b=function(e){var t=e.target;t.scrollLeft=t.scrollWidth,t.setSelectionRange(t.value.length,t.value.length)};return Object(a.useEffect)((function(){var e={borderTop:[3,6].includes(n.x)?"1px solid #000":"",borderRight:[2,5].includes(n.y)?"1px solid #000":"",borderBottom:[2,5].includes(n.x)?"1px solid #000":"",borderLeft:[3,6].includes(n.y)?"1px solid #000":"",background:n.showError?"red":"",color:n.showError?"white":""};f(e),c(n.value)}),[n,n.showError]),Object(r.jsx)("div",{className:t,children:n.isMutable?Object(r.jsx)(D.MutableCell,{type:"text",value:u>0?u:"",style:d,onChange:function(e){var t=+e.target.value[e.target.value.length-1];(t>=0&&t<=9||!t)&&(c((function(){return t||0})),i((function(e){var r=T(e);return r[n.x][n.y]=t||0,r})))},onClick:b,onFocus:b}):Object(r.jsx)(D.ImmutableCell,{style:d,children:u>0&&u})})};function F(){var e=Object(u.a)(["\n  ","\n  text-align: center;\n"]);return F=function(){return e},e}function W(){var e=Object(u.a)(["\n  ","\n  background: #683aea;\n  color: white;\n"]);return W=function(){return e},e}function Y(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  border: 1px solid black;\n  box-sizing: content-box;\n"]);return Y=function(){return e},e}var q="\n  display: grid;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: 1.5rem;\n  border: 0;\n",D={Cell:Object(c.a)(V)(Y()),ImmutableCell:c.a.p(W(),q),MutableCell:c.a.input(F(),q)},G=function(e){var t=e.className,n=e.board,a=e.setPuzzle;return Object(r.jsx)("div",{className:t,children:n&&n.cells.map((function(e){return Object(r.jsx)(D.Cell,{cell:e,setPuzzle:a},"".concat(e.x,",").concat(e.y))}))})};G.defaultProps={board:null};var H=G;function K(){var e=Object(u.a)(["\n  max-width: 70vw;\n  max-height: 70vw;\n  width: 300px;\n  height: 300px;\n  background: white;\n  display: grid;\n  grid-template-columns: repeat(9, minmax(0, 1fr));\n  grid-template-rows: repeat(9, minmax(0, 1fr));\n  align-items: center;\n  justify-content: center;\n  grid-gap: 1px;\n"]);return K=function(){return e},e}var Q=Object(c.a)(H)(K());function U(){var e=Object(u.a)(["\n  color: #683aea;\n  font-size: 2rem;\n  text-align: center;\n  display: block;\n  margin-bottom: .5em;\n  margin-top: 1em;\n"]);return U=function(){return e},e}var X=c.a.h1(U()),Z=function(){var e=Object(a.useState)(y),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(null),l=Object(s.a)(o,2),u=l[0],c=l[1],h=Object(a.useState)(!1),v=Object(s.a)(h,2),d=v[0],f=v[1],b=Object(a.useState)(""),g=Object(s.a)(b,2),j=g[0],p=g[1];return Object(a.useEffect)((function(){if(!u){var e=x.parse(n);c(e)}}),[u,n]),Object(r.jsxs)("div",{id:"app",children:[Object(r.jsx)(X,{children:"Sudoku Solver"}),Object(r.jsx)(Q,{board:u,setPuzzle:i}),Object(r.jsx)(J,{solvePuzzle:function(){try{var e=x.parse(n);e.solve(),c(e),i(e.convert()),e.cells.find((function(e){return 0===e.value}))?(p("Impossible board."),e.setAllMutable()):(p(""),f(!0),e.setAllImmutable())}catch(a){p(a.message);var t=T(n);a.invalidCellCoordinates.forEach((function(e){var n=Object(s.a)(e,2),r=n[0],a=n[1];t[r][a]=0})),i(t);var r=x.parse(t);r.setAllMutable(),a.invalidCellCoordinates.forEach((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];r.getCell(n,a).showError=!0})),c(r)}},errorMessage:j,resetPuzzle:function(){c(x.parse(y)),i(y),f(!1)},isSolved:d})]})};l.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(Z,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.e2b09dee.chunk.js.map